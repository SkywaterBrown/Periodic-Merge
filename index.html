<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="theme-color" content="#121212">

    <title>Element Merge</title>
    
    <!-- Favicon and App Icons -->
    <link rel="icon" type="image/x-icon" href="favicon/favicon.ico">
    <link rel="icon" type="image/svg+xml" href="favicon/favicon.svg">
    <link rel="icon" type="image/png" sizes="96x96" href="favicon/favicon-96x96.png">
    <link rel="apple-touch-icon" href="favicon/apple-touch-icon.png">
    <link rel="manifest" href="favicon/site.webmanifest">
    <meta name="theme-color" content="#121212">
    
    <!-- Additional Apple Touch Icons -->
    <link rel="apple-touch-icon" sizes="180x180" href="favicon/web-app-manifest-192x192.png">
    <link rel="apple-touch-icon" sizes="512x512" href="favicon/web-app-manifest-512x512.png">
    
    <!-- Link to external CSS file -->
    <link rel="stylesheet" href="game_styles.css">
</head>
<body>
	<div class="save-indicator" id="saveIndicator">ğŸ’¾ Auto-save enabled</div>
	
    <div class="loading-overlay" id="loadingOverlay">
        <div class="loading-spinner"></div>
        <div class="loading-text">Loading Element Data...</div>
    </div>
    
    <div class="container" id="mainContainer" style="display: none;">
        <div class="header-area">
            <div class="game-title">
                <h1>Element Merge Game</h1>
                <p class="subtitle">Drag elements to the Fusion Zone and merge them to create new elements!</p>
            </div>
            
            <div class="game-stats">
                <div class="stat">
                    <div class="stat-value" id="fusionEnergy">100</div>
                    <div class="stat-label">Fusion Energy</div>
                </div>
                <div class="stat">
                    <div class="stat-value" id="elementsFound">5/20</div>
                    <div class="stat-label">Elements Discovered</div>
                </div>
                <div class="stat">
                    <div class="stat-value" id="mergeCount">0</div>
                    <div class="stat-label">Fusion Reactions</div>
                </div>
            </div>
        </div>
        
        <div class="game-area">
            <div class="left-panel">
                <div class="periodic-table-container">
                    <h3 class="periodic-table-title">
                        <span>Periodic Table</span>
                        <div class="progress-bar">
                            <div class="progress-fill" id="discoveryProgress"></div>
                        </div>
                    </h3>
                    <div class="periodic-table empty-periodic-table" id="periodicTable">
                        <!-- Periodic table will be generated by JavaScript -->
                    </div>
                    <div class="category-legend" id="categoryLegend">
                    </div>
                </div>
                
                <div class="reactor-container">
                    <h3 class="reactor-title">
                        <span>âš›ï¸ Nuclear Reactor âš›ï¸</span>
                        <div class="reactor-stored" id="storedEnergy">0</div>
                    </h3>
                    
                    <div class="reactor-status">
                        <div class="reactor-info">
                            <div class="reactor-level" id="reactorLevel">Level 1</div>
                            <div class="reactor-production" id="productionRate">1/sec</div>
                        </div>
                    </div>
                    
                    <div class="reactor-bar-container">
                        <div class="reactor-bar" id="reactorBar"></div>
                    </div>
                    
                    <button class="harvest-btn" id="harvestBtn" disabled>
                        Harvest Energy (Min: 10)
                    </button>
                    
                    <div class="reactor-upgrade">
                        <div>
                            <div>Upgrade Reactor</div>
                            <div class="upgrade-cost" id="upgradeCost">50 energy</div>
                        </div>
                        <button class="upgrade-btn" id="upgradeReactorBtn" disabled>
                            Upgrade
                        </button>
                    </div>
                </div>
                
<div class="game-controls">
    <button id="hintBtn">
        Show Hint
    </button>
    <button id="leaderboardBtn">
        ğŸ† Leaderboard
    </button>
    <button id="saveBtn">
        ğŸ’¾ Save
    </button>
    <button id="loadBtn">
        ğŸ”„ Load
    </button>

    <button id="clearBtn">
        Clear Fusion Zone
    </button>
    <button id="resetBtn">
        Reset Game
    </button>
</div>
<div class="mobile-bottom-nav" id="mobileBottomNav">
    <button class="mobile-nav-btn" onclick="document.getElementById('hintBtn').click()">
        <span class="nav-icon">ğŸ’¡</span>
        <span class="nav-label">Hint</span>
    </button>
    <button class="mobile-nav-btn" onclick="document.getElementById('saveBtn').click()">
        <span class="nav-icon">ğŸ’¾</span>
        <span class="nav-label">Save</span>
    </button>
    <button class="mobile-nav-btn" onclick="document.getElementById('clearBtn').click()">
        <span class="nav-icon">ğŸ—‘ï¸</span>
        <span class="nav-label">Clear</span>
    </button>
    <button class="mobile-nav-btn" onclick="document.getElementById('leaderboardBtn').click()">
        <span class="nav-icon">ğŸ†</span>
        <span class="nav-label">Scores</span>
    </button>
</div>
<div class="leaderboard-container" style="display: none;" id="leaderboardContainer">
    <div class="leaderboard-modal">
        <div class="leaderboard-header">
            <h3>ğŸŒ Global Leaderboards</h3>
            <div class="header-actions">
                <button class="refresh-btn" id="refreshLeaderboard" title="Refresh">
                    ğŸ”„
                </button>
                <button class="close-leaderboard" id="closeLeaderboard">âœ•</button>
            </div>
        </div>
        
        <div class="leaderboard-tabs">
            <button class="tab-btn active" data-tab="totalScore">ğŸ† Total Score</button>
            <button class="tab-btn" data-tab="elementsFound">ğŸ”¬ Elements</button>
            <button class="tab-btn" data-tab="topFusions">âš›ï¸ Fusions</button>
            <button class="tab-btn" data-tab="highestEnergy">âš¡ Energy</button>
            <button class="tab-btn" data-tab="reactorLevel">ğŸ­ Reactor</button>
        </div>
        
        <div class="leaderboard-content">
            <div class="tab-content active" id="totalScoreTab">
                <div class="leaderboard-list" id="totalScoreList">
                    <!-- Global scores will load here -->
                </div>
            </div>
            <div class="tab-content" id="elementsFoundTab">
                <div class="leaderboard-list" id="elementsFoundList">
                    <!-- Global scores will load here -->
                </div>
            </div>
            <div class="tab-content" id="topFusionsTab">
                <div class="leaderboard-list" id="topFusionsList">
                    <!-- Global scores will load here -->
                </div>
            </div>
            <div class="tab-content" id="highestEnergyTab">
                <div class="leaderboard-list" id="highestEnergyList">
                    <!-- Global scores will load here -->
                </div>
            </div>
            <div class="tab-content" id="reactorLevelTab">
                <div class="leaderboard-list" id="reactorLevelList">
                    <!-- Global scores will load here -->
                </div>
            </div>
        </div>
        
        <div class="leaderboard-submit">
            <button id="submitScoreBtn" class="submit-score-btn">
                ğŸš€ Submit to Global Leaderboard
            </button>
            <div class="score-info">
                <p>Your current score: <span id="currentScore">0</span></p>
                <p>Global rank: <span id="globalRank">--</span></p>
            </div>
        </div>
        
        <div class="leaderboard-footer">
            <div class="player-info-display">
                <span>Player: <strong id="displayPlayerName">${playerName}</strong></span>
                <span id="playerCountry">${playerCountry === '??' ? '' : getCountryFlag(playerCountry)}</span>
            </div>
            <div class="leaderboard-stats">
                <span>ğŸ“Š Live global rankings</span>
                <span>ğŸ”„ Updates in real-time</span>
            </div>
        </div>
    </div>
</div>
<!-- Add Leaderboard button to the controls -->
            </div>
            
            <div class="right-panel">
                <div class="merging-area-container">
                    <h3 class="area-title">
                        <span class="area-title-icon">âš›ï¸</span>
                        Fusion Zone
                        <span class="area-title-icon">âš›ï¸</span>
                    </h3>
                    
                    <div class="merge-area" id="mergeArea">
                        <!-- Merge elements will be added here dynamically -->
                    </div>
                    
                    <div class="merge-result" id="mergeResult">Drag elements from the periodic table to the Fusion Zone</div>
                </div>
            </div>
        </div>
    </div>

    <!-- Link to external JavaScript files -->
    <script src="game_logic.js"></script>
</body>
</html>
